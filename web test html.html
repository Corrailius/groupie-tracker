
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test API Go</title>
</head>
<body>
<h1>Test API</h1>
<div id="api-content">Chargement...</div>

<script>
fetch('/api/artists')
  .then(resp => resp.json())
  .then(data => {
    const container = document.getElementById('api-content');
    container.innerHTML = "";
    data.forEach(a => {
      const div = document.createElement('div');
      div.textContent = a.name + " - " + a.firstAlbum + " - " + a.creationDate;
      container.appendChild(div);
    });
  })
  .catch(err => {
    document.getElementById('api-content').textContent = "Erreur: " + err;
  });
</script>
</body>
</html>
<script>
fetch('/api/artists')
  .then(response => response.json())
  .then(data => {
    const container = document.getElementById('api-content');
    container.innerHTML = ""; // vide la div avant remplissage

    data.forEach(artist => {
      const div = document.createElement('div');
      div.style.border = "1px solid #ccc";
      div.style.margin = "5px";
      div.style.padding = "5px";
      div.style.display = "flex";
      div.style.alignItems = "center";
      div.style.gap = "10px";

      div.innerHTML = `
        <img src="${artist.image}" alt="${artist.name}" style="width:50px;height:50px;object-fit:cover;">
        <div>
          <strong>${artist.name}</strong><br>
          Premier album: ${artist.firstAlbum}<br>
          Cr√©ation: ${artist.creationDate}
        </div>
      `;
      container.appendChild(div);
    });
  })
  .catch(err => {
    document.getElementById('api-content').textContent = "Erreur de chargement : " + err;
  });
</script>
